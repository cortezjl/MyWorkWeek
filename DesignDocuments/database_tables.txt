--
-- Create Table structure for table `Role`
--

CREATE TABLE `Role` (
  `id`   int(11)     NOT NULL AUTO_INCREMENT,
  `role` varchar(15) DEFAULT NULL,
  PRIMARY KEY (`id`),
    constraint role_uindex unique (role)
);

 insert into Role values (1, 'Administrator');
 insert into Role values (2, 'Manager');
 insert into Role values (3, 'Front Of House');
 insert into Role values (4, 'Back of House');
 insert into Role values (5, 'Busser');

--
-- Create Table structure for table `User`
--

CREATE TABLE `User` (
  id int(11) NOT NULL AUTO_INCREMENT primary key,
  cellphone  varchar(10)  NULL,
  createDate datetime     NULL,
  dateOfBirth date        NULL,
  email      varchar(50)  NULL,
  endDate    datetime     NULL,
  firstName  varchar(25)  NULL,
  homephone  varchar(10)   NULL,
  lastName   varchar(30)  NULL,
  password   varchar(20)  NULL,
  startDate date      NULL,
  updateDate datetime  NULL,
  user_name varchar(15) NOT NULL,
  constraint users_user_name_uindex unique (user_name)
);

insert into user values (1, 'None', '20190929', '20000101', '', '99991231', 'Administrator', 'None', 'Administrator','admin', '20190101', '20190929', 'admin');

create table user
(
    id int auto_increment primary key,
    first_name varchar(25) null,
    last_name varchar(30) null,
    user_name varchar(15) null,
    password varchar(30) null,
    date_of_birth date null,
    cellphone varchar(10) null,
    homephone varchar(10) null,
    constraint users_user_name_uindex
        unique (user_name)
);

insert into user values (1, 'System', 'Administrator', 'Admin', 'password', '1988/05/08', '6083129182', '6082819812');

--
-- Create Table structure for table `User_Role`
--
CREATE TABLE `User_Role` (
                             `id` int(11) NOT NULL AUTO_INCREMENT primary key,
                             `createDate` datetime     NULL,
                             `updateDate` datetime     NULL,
                             `roleId`       int(11)    NULL,
                             `user_id`      int(11) NOT NULL,
                             `user_name`   varchar(15)  NOT NULL,
                             KEY `user_role_user_id_fk` (`user_id`),
                             CONSTRAINT `user_role_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES user (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
                             KEY `user_role_user_user_name_fk` (`user_name`),
                             CONSTRAINT user_role_user_user_name_fk FOREIGN KEY (`user_name`) REFERENCES user (`user_name`) ON DELETE CASCADE ON UPDATE CASCADE,
                             KEY `user_role_roleid_fk` (`roleId`),
                             CONSTRAINT `user_role_roleid_fk` FOREIGN KEY (`roleId`) REFERENCES Role (`id`)
);

insert into user_role value (1, '20190929', '20190929', 1, 1, 'admin');

CREATE TABLE `user_role` (
                          `id` int(11) NOT NULL AUTO_INCREMENT,
                          `description` varchar(100) DEFAULT NULL,
                          `user_id` int(11) NOT NULL,
                          PRIMARY KEY (`id`),
                          UNIQUE KEY `user_roles_id_uindex` (`id`),
                          KEY `user_roles_user_id_fk` (`user_id`),
                          CONSTRAINT `user_roles_user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
)

insert into user_role values (1, 'System Administrator', 1);



--
-- Create Table structure for table `Time_Off_Request`
--

CREATE TABLE `Time_Off_Request` (
  `id`         int(11)      NOT NULL AUTO_INCREMENT,
  `startDate` datetime      DEFAULT NULL,
  `endDate` datetime        DEFAULT NULL,
  `createDate` datetime     DEFAULT NULL,
  `updateDate` datetime     DEFAULT NULL,
  `userName`   varchar(15)  NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `Time_Off_Request_User_userName_fk` FOREIGN KEY (`userName`) REFERENCES `User` (`userName`)
) 

--
-- Create Table structure for table `Schedule`
--

CREATE TABLE `Schedule` (
  `id`         int(11)      NOT NULL AUTO_INCREMENT,
  `startDate` datetime      DEFAULT NULL,
  `endDate` datetime        DEFAULT NULL,
  `createDate` datetime     DEFAULT NULL,
  `updateDate` datetime     DEFAULT NULL,
  PRIMARY KEY (`id`),
) 

--
-- Create Table structure for table `Schedule_Detail`
--

CREATE TABLE `Schedule_Detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `startDate` datetime      DEFAULT NULL,
  `endDate` datetime        DEFAULT NULL,
  'startTime1 varchar(07) DEFAULT NULL,
  'endTime1   varchar(07) DEFAULT NULL,
  'startTime2 varchar(07) DEFAULT NULL,
  'endTime2   varchar(07) DEFAULT NULL,
  'startTime3 varchar(07) DEFAULT NULL,
  'endTime3   varchar(07) DEFAULT NULL,
  'startTime4 varchar(07) DEFAULT NULL,
  'endTime4   varchar(07) DEFAULT NULL,
  'startTime5 varchar(07) DEFAULT NULL,
  'endTime5   varchar(07) DEFAULT NULL,
  'startTime6 varchar(07) DEFAULT NULL,
  'endTime6   varchar(07) DEFAULT NULL,
  'startTime7 varchar(07) DEFAULT NULL,
  'endTime7   varchar(07) DEFAULT NULL,
  `userName`   varchar(15) NOT NULL,
  `schedule` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`)
  CONSTRAINT `Schedule_Detail_User_userName_fk` FOREIGN KEY (`userName`) REFERENCES `User` (`userName`)
  KEY `Schedule_Detail_Schedule_id_fk` (`schedule`),
  CONSTRAINT `Schedule_Detail_Schedule_id_fk` FOREIGN KEY (`schedule`) REFERENCES `Schedule` (`id`)
) 


